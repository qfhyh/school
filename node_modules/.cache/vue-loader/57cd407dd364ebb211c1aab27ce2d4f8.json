{"remainingRequest":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\src\\views\\application\\meeting\\applyFor.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\src\\views\\application\\meeting\\applyFor.vue","mtime":1543458639945},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1543456662663},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\babel-loader\\lib\\index.js","mtime":1543456662314},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1543456662663},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\vue-loader\\lib\\index.js","mtime":1543456678579}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { applyForSubmit, information, start } from '@/services/meeting';\r\n\r\nexport default {\r\n  name: 'applyFor',\r\n  data() {\r\n    return {\r\n      show: false,\r\n      show1: false,\r\n      show2: false,\r\n      startTime: '请选择',\r\n      endTime: '请选择',\r\n      minDate: new Date(),\r\n      name: '',\r\n      people: '',\r\n      content: '',\r\n      guest: '',\r\n      leader: '',\r\n      electronics: '',\r\n      isUseProjector: false,\r\n      isUseAllToOne: false,\r\n      isUseStereo: false,\r\n      isUseScreen: false,\r\n      processId: '',\r\n      orderId: '',\r\n      projector: '',\r\n      allToOne: '',\r\n      stereo: '',\r\n      screen: '',\r\n      school: '',\r\n      schoolList: ['武宿校区', '文化校区'],\r\n      nameIn: {\r\n        name: 'hyglRoomApply',\r\n      },\r\n      infoDetail: {\r\n        name: '',\r\n        startTime: '',\r\n        endTime: '',\r\n        userNum: '',\r\n        content: '',\r\n        guest: '',\r\n        leaderNames: '',\r\n        txt: '',\r\n        isUseProjector: '',\r\n        isUseAllToOne: '',\r\n        isUseStereo: '',\r\n        isUseScreen: '',\r\n        bgszr: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    formatter(type, value) {\r\n      if (type === 'year') {\r\n        return value + this.$t('year');\r\n      } else if (type === 'month') {\r\n        return value + this.$t('month');\r\n      }\r\n      return value;\r\n    },\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    confirm(value) {\r\n      this.show = false;\r\n      if (this.endTime !== '请选择') {\r\n        if (this.$moment(this.startTime).isBefore(this.endTime)) {\r\n          this.startTime = this.$moment(value).format('YYYY-MM-DD HH:mm:ss');\r\n        } else {\r\n          this.startTime = '请选择';\r\n          this.$toast('开始时间需小于结束时间！');\r\n        }\r\n      }\r\n    },\r\n    endConfirm(value) {\r\n      this.show1 = false;\r\n      if (this.startTime !== '请选择') {\r\n        if (this.$moment(this.startTime).isBefore(this.endTime)) {\r\n          this.endTime = this.$moment(value).format('YYYY-MM-DD HH:mm:ss');\r\n        } else {\r\n          this.endTime = '请选择';\r\n          this.$toast('开始时间需小于结束时间！');\r\n        }\r\n      }\r\n    },\r\n    onSchool(value) {\r\n      this.show2 = false;\r\n      this.school = value;\r\n    },\r\n    async start(data) {\r\n      await start(data);\r\n    },\r\n    async information(data) {\r\n      await information(data);\r\n    },\r\n    async submitMessage(data) {\r\n      await applyForSubmit(data);\r\n    },\r\n    submit() {\r\n      if (this.name === '') {\r\n        this.$toast('请输入会议室名称');\r\n        return;\r\n      }\r\n      if (this.startTime === '请选择' || '') {\r\n        this.$toast('请选择开始时间');\r\n        return;\r\n      }\r\n      if (this.endTime === '请选择' || '') {\r\n        this.$toast('请选择结束时间');\r\n        return;\r\n      }\r\n      if (this.people === '') {\r\n        this.$toast('请输入参加会议人数');\r\n        return;\r\n      }\r\n      if (this.content === '') {\r\n        this.$toast('请输入会议内容');\r\n        return;\r\n      }\r\n      if (this.guest === '') {\r\n        this.$toast('请输入来院嘉宾');\r\n        return;\r\n      }\r\n      if (this.leader === '') {\r\n        this.$toast('请输入出席领导');\r\n        return;\r\n      }\r\n      if (this.isUseScreen === true) {\r\n        if (this.electronics === '') {\r\n          this.$toast('请输入电子屏内容');\r\n          return;\r\n        }\r\n      }\r\n      if (this.school === '请选择' || '') {\r\n        this.$toast('请选择校区');\r\n        return;\r\n      }\r\n      if (this.isUseProjector === true) {\r\n        this.projector = '是';\r\n      } else if (this.isUseProjector === false) {\r\n        this.projector = '否';\r\n      }\r\n      if (this.isUseScreen === true) {\r\n        this.screen = '是';\r\n      } else if (this.isUseScreen === false) {\r\n        this.screen = '否';\r\n      }\r\n      if (this.isUseAllToOne === true) {\r\n        this.allToOne = '是';\r\n      } else if (this.isUseAllToOne === false) {\r\n        this.allToOne = '否';\r\n      }\r\n      if (this.isUseStereo === true) {\r\n        this.stereo = '是';\r\n      } else if (this.isUseStereo === false) {\r\n        this.stereo = '否';\r\n      }\r\n      if (this.school === '武宿校区') {\r\n        this.bgsshwy = 'Z_903554731020120065-1031348989367386114';\r\n      } else if (this.school === '文华校区') {\r\n        this.bgsshwy = 'Z_903554731020120065-1031348873801728001';\r\n      }\r\n      this.infoDetail = {\r\n        name: this.name,\r\n        startTime: this.startTime,\r\n        endTime: this.endTime,\r\n        content: this.content,\r\n        guest: this.guest,\r\n        leaderNames: this.leader,\r\n        txt: this.electronics,\r\n        userNum: this.people,\r\n        isUseProjector: this.projector,\r\n        isUseAllToOne: this.allToOne,\r\n        isUseStereo: this.stereo,\r\n        isUseScreen: this.screen,\r\n        bgszr: this.bgsshwy,\r\n      };\r\n      this.information(this.nameIn);\r\n      this.submitMessage(this.infoDetail);\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n};\r\n",{"version":3,"sources":["applyFor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"applyFor.vue","sourceRoot":"src\\views\\application\\meeting","sourcesContent":["<template>\r\n  <div class=\"applyFor\">\r\n    <van-nav-bar\r\n      title=\"会议室申请\"\r\n      left-text=\"返回\"\r\n      right-text=\" \"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"/>\r\n      <div class=\"top\">\r\n        <van-cell-group>\r\n          <van-field label=\"会议室名称\"\r\n           v-model=\"name\"\r\n           required\r\n           type=\"text\" placeholder=\"请会议室名称\"\r\n           rows=\"1\" autosize dir=\"rtl\" />\r\n          <van-cell title=\"开始使用时间\"\r\n           @click=\"show = true;\" is-link border\r\n           required\r\n           v-model=\"startTime\" />\r\n          <van-popup v-model=\"show\" position=\"bottom\">\r\n            <van-datetime-picker\r\n              show-toolbar\r\n              @confirm=\"confirm\"\r\n              @cancel=\"show = false\"\r\n              type=\"datetime\"\r\n              :min-date=\"minDate\"\r\n              :formatter=\"formatter\"\r\n              />\r\n          </van-popup>\r\n          <van-cell title=\"结束使用时间\" required\r\n           @click=\"show1 = true;\" is-link\r\n           border v-model=\"endTime\" />\r\n          <van-popup v-model=\"show1\" position=\"bottom\">\r\n            <van-datetime-picker\r\n              show-toolbar\r\n              @confirm=\"endConfirm\"\r\n              @cancel=\"show1 = false\"\r\n              type=\"datetime\"\r\n              :min-date=\"minDate\"\r\n              :formatter=\"formatter\"\r\n              />\r\n          </van-popup>\r\n          <van-field label=\"人数\"\r\n           v-model=\"people\"\r\n           required\r\n           type=\"number\" placeholder=\"请输入人数\"\r\n           rows=\"1\" autosize dir=\"rtl\" />\r\n        </van-cell-group>\r\n      </div>\r\n      <div class=\"top\">\r\n        <div class=\"title\">会议内容</div>\r\n        <textarea name=\"\" v-model=\"content\" placeholder=\"请输入会议内容\"></textarea>\r\n      </div>\r\n      <div class=\"top\">\r\n        <div class=\"title\">来院嘉宾</div>\r\n        <textarea name=\"\" v-model=\"guest\" placeholder=\"请输入来院嘉宾\"></textarea>\r\n      </div>\r\n      <div class=\"top\">\r\n        <div class=\"title\">出席院领导</div>\r\n        <textarea name=\"\" v-model=\"leader\" placeholder=\"请输入出席院领导\"></textarea>\r\n      </div>\r\n      <div class=\"top\">\r\n        <van-cell-group>\r\n          <van-switch-cell v-model=\"isUseScreen\" required border title=\"是否使用电子屏\" />\r\n          <div v-show=\"this.isUseScreen == true\">\r\n            <div class=\"title\">电子屏内容</div>\r\n            <textarea name=\"\" v-model=\"electronics\" placeholder=\"请输入电子屏内容\"></textarea>\r\n          </div>\r\n          <van-switch-cell v-model=\"isUseProjector\" border title=\"是否使用投影\" />\r\n          <van-switch-cell v-model=\"isUseAllToOne\" border title=\"是否使用一体机\" />\r\n          <van-switch-cell v-model=\"isUseStereo\" border title=\"是否使用音响\" />\r\n          <van-cell title=\"校区\" required\r\n           v-model=\"school\" @click=\"show2 = true;\"\r\n           is-link border value=\"请选择\"/>\r\n          <van-popup v-model=\"show2\" position=\"bottom\">\r\n            <van-picker show-toolbar\r\n            :columns=\"schoolList\"\r\n            @cancel=\"show2 = false\"\r\n            @confirm=\"onSchool\" />\r\n          </van-popup>\r\n        </van-cell-group>\r\n      </div>\r\n    <div class=\"btn-group\">\r\n      <van-button size=\"large\" class=\"btn blue\" @click=\"submit()\">提交</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { applyForSubmit, information, start } from '@/services/meeting';\r\n\r\nexport default {\r\n  name: 'applyFor',\r\n  data() {\r\n    return {\r\n      show: false,\r\n      show1: false,\r\n      show2: false,\r\n      startTime: '请选择',\r\n      endTime: '请选择',\r\n      minDate: new Date(),\r\n      name: '',\r\n      people: '',\r\n      content: '',\r\n      guest: '',\r\n      leader: '',\r\n      electronics: '',\r\n      isUseProjector: false,\r\n      isUseAllToOne: false,\r\n      isUseStereo: false,\r\n      isUseScreen: false,\r\n      processId: '',\r\n      orderId: '',\r\n      projector: '',\r\n      allToOne: '',\r\n      stereo: '',\r\n      screen: '',\r\n      school: '',\r\n      schoolList: ['武宿校区', '文化校区'],\r\n      nameIn: {\r\n        name: 'hyglRoomApply',\r\n      },\r\n      infoDetail: {\r\n        name: '',\r\n        startTime: '',\r\n        endTime: '',\r\n        userNum: '',\r\n        content: '',\r\n        guest: '',\r\n        leaderNames: '',\r\n        txt: '',\r\n        isUseProjector: '',\r\n        isUseAllToOne: '',\r\n        isUseStereo: '',\r\n        isUseScreen: '',\r\n        bgszr: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    formatter(type, value) {\r\n      if (type === 'year') {\r\n        return value + this.$t('year');\r\n      } else if (type === 'month') {\r\n        return value + this.$t('month');\r\n      }\r\n      return value;\r\n    },\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    confirm(value) {\r\n      this.show = false;\r\n      if (this.endTime !== '请选择') {\r\n        if (this.$moment(this.startTime).isBefore(this.endTime)) {\r\n          this.startTime = this.$moment(value).format('YYYY-MM-DD HH:mm:ss');\r\n        } else {\r\n          this.startTime = '请选择';\r\n          this.$toast('开始时间需小于结束时间！');\r\n        }\r\n      }\r\n    },\r\n    endConfirm(value) {\r\n      this.show1 = false;\r\n      if (this.startTime !== '请选择') {\r\n        if (this.$moment(this.startTime).isBefore(this.endTime)) {\r\n          this.endTime = this.$moment(value).format('YYYY-MM-DD HH:mm:ss');\r\n        } else {\r\n          this.endTime = '请选择';\r\n          this.$toast('开始时间需小于结束时间！');\r\n        }\r\n      }\r\n    },\r\n    onSchool(value) {\r\n      this.show2 = false;\r\n      this.school = value;\r\n    },\r\n    async start(data) {\r\n      await start(data);\r\n    },\r\n    async information(data) {\r\n      await information(data);\r\n    },\r\n    async submitMessage(data) {\r\n      await applyForSubmit(data);\r\n    },\r\n    submit() {\r\n      if (this.name === '') {\r\n        this.$toast('请输入会议室名称');\r\n        return;\r\n      }\r\n      if (this.startTime === '请选择' || '') {\r\n        this.$toast('请选择开始时间');\r\n        return;\r\n      }\r\n      if (this.endTime === '请选择' || '') {\r\n        this.$toast('请选择结束时间');\r\n        return;\r\n      }\r\n      if (this.people === '') {\r\n        this.$toast('请输入参加会议人数');\r\n        return;\r\n      }\r\n      if (this.content === '') {\r\n        this.$toast('请输入会议内容');\r\n        return;\r\n      }\r\n      if (this.guest === '') {\r\n        this.$toast('请输入来院嘉宾');\r\n        return;\r\n      }\r\n      if (this.leader === '') {\r\n        this.$toast('请输入出席领导');\r\n        return;\r\n      }\r\n      if (this.isUseScreen === true) {\r\n        if (this.electronics === '') {\r\n          this.$toast('请输入电子屏内容');\r\n          return;\r\n        }\r\n      }\r\n      if (this.school === '请选择' || '') {\r\n        this.$toast('请选择校区');\r\n        return;\r\n      }\r\n      if (this.isUseProjector === true) {\r\n        this.projector = '是';\r\n      } else if (this.isUseProjector === false) {\r\n        this.projector = '否';\r\n      }\r\n      if (this.isUseScreen === true) {\r\n        this.screen = '是';\r\n      } else if (this.isUseScreen === false) {\r\n        this.screen = '否';\r\n      }\r\n      if (this.isUseAllToOne === true) {\r\n        this.allToOne = '是';\r\n      } else if (this.isUseAllToOne === false) {\r\n        this.allToOne = '否';\r\n      }\r\n      if (this.isUseStereo === true) {\r\n        this.stereo = '是';\r\n      } else if (this.isUseStereo === false) {\r\n        this.stereo = '否';\r\n      }\r\n      if (this.school === '武宿校区') {\r\n        this.bgsshwy = 'Z_903554731020120065-1031348989367386114';\r\n      } else if (this.school === '文华校区') {\r\n        this.bgsshwy = 'Z_903554731020120065-1031348873801728001';\r\n      }\r\n      this.infoDetail = {\r\n        name: this.name,\r\n        startTime: this.startTime,\r\n        endTime: this.endTime,\r\n        content: this.content,\r\n        guest: this.guest,\r\n        leaderNames: this.leader,\r\n        txt: this.electronics,\r\n        userNum: this.people,\r\n        isUseProjector: this.projector,\r\n        isUseAllToOne: this.allToOne,\r\n        isUseStereo: this.stereo,\r\n        isUseScreen: this.screen,\r\n        bgszr: this.bgsshwy,\r\n      };\r\n      this.information(this.nameIn);\r\n      this.submitMessage(this.infoDetail);\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .applyFor{\r\n    padding-bottom: 60px;\r\n  }\r\n  .between{\r\n    margin:0 12px;\r\n  }\r\n  .top{\r\n    margin-top: 11px;\r\n    background: #fff;\r\n  }\r\n  .title{\r\n     color: #333;\r\n     font-size: 16px;\r\n     padding: 15px 15px 0 15px;\r\n     position: relative;\r\n     &::before{\r\n      content: '*';\r\n      position: absolute;\r\n      left: 7px;\r\n      top: 20px;\r\n      font-size: 14px;\r\n      color: #f44;\r\n     }\r\n  }\r\n  textarea{\r\n    border:0;\r\n    width:100%;\r\n    height:80px;\r\n    padding:12px 15px;\r\n    resize: none;\r\n    font-size: 14px;\r\n    color:#999;\r\n  }\r\n  .btn-group{\r\n    padding: 0 38px;\r\n    margin: 20px 0;\r\n    .btn{\r\n        font-size: 17px;\r\n        margin: 0 auto 15px;\r\n        border-radius: 30px;\r\n        height: 6.8vh;\r\n        line-height: 6.8vh;\r\n        background-color: #FFFFFF;\r\n        color: #1890ff;\r\n        border: 1px solid #1890FF;\r\n    }\r\n    .blue{\r\n        background-color: #1890ff;\r\n        color: #FFFFFF;\r\n    }\r\n  }\r\n</style>\r\n"]}]}