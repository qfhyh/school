{"remainingRequest":"E:\\QF\\H5-vue\\school\\node_modules\\thread-loader\\dist\\cjs.js!E:\\QF\\H5-vue\\school\\node_modules\\babel-loader\\lib\\index.js!E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\QF\\H5-vue\\school\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\QF\\H5-vue\\school\\src\\components\\upload\\uploadFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\QF\\H5-vue\\school\\src\\components\\upload\\uploadFile.vue","mtime":1541575641304},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535070530521},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1535070532181},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\babel-loader\\lib\\index.js","mtime":1539569622495},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535070530521},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\vue-loader\\lib\\index.js","mtime":1539569642393}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\QF\\\\H5-vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { file } from '@/services/newStuReview';\nexport default {\n  name: 'upload-file',\n  data: function data() {\n    return {\n      step: 0,\n      imgUrl: '',\n      imgList: []\n    };\n  },\n  methods: {\n    // 上传图片\n    uploaded: function () {\n      var _uploaded = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(img) {\n        var formData, data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                formData = new FormData();\n                formData.append('file', img);\n                _context.next = 4;\n                return file(formData);\n\n              case 4:\n                data = _context.sent;\n                this.$emit('fileData', data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function uploaded(_x) {\n        return _uploaded.apply(this, arguments);\n      };\n    }(),\n    readImg: function readImg(files, content) {\n      // 预览图片\n      var img = {};\n      img.src = require('@/assets/word.png');\n      img.name = files.file.name;\n      this.imgList.push(img);\n      this.uploaded(files.file);\n    },\n    deleteImg: function deleteImg() {}\n  }\n};",{"version":3,"sources":["uploadFile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAkBA,SAAA,IAAA,QAAA,yBAAA;AAEA,eAAA;AACA,QAAA,aADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,YAAA,CADA;AAEA,cAAA,EAFA;AAGA,eAAA;AAHA,KAAA;AAKA,GARA;AASA,WAAA;AACA;AACA,YAFA;AAAA;AAAA;AAAA,+CAEA,GAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,wBAHA,GAGA,IAAA,QAAA,EAHA;AAIA,yBAAA,MAAA,CAAA,MAAA,EAAA,GAAA;AAJA;AAAA,uBAKA,KAAA,QAAA,CALA;;AAAA;AAKA,oBALA;AAMA,qBAAA,KAAA,CAAA,UAAA,EAAA,IAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAQA,WARA,mBAQA,KARA,EAQA,OARA,EAQA;AACA;AACA,UAAA,MAAA,EAAA;AACA,UAAA,GAAA,GAAA,QAAA,mBAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,IAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAAA,QAAA,CAAA,MAAA,IAAA;AACA,KAfA;AAgBA,aAhBA,uBAgBA,CACA;AAjBA;AATA,CAAA","sourcesContent":["<template>\r\n  <div class=\"upload\">\r\n    <ul>\r\n      <li v-for=\"img in imgList\" :key=\"img.id\">\r\n        <img class=\"upimg\" :src=\"img.src\" alt=\"\">\r\n        <span class=\"imgTitle\">{{img.name}}</span>\r\n      </li>\r\n      <li>\r\n        <van-uploader :after-read=\"readImg\" multiple>\r\n          <div class=\"pos\">\r\n            <span>+</span>\r\n          </div>\r\n        </van-uploader>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { file } from '@/services/newStuReview';\r\n\r\nexport default {\r\n  name: 'upload-file',\r\n  data() {\r\n    return {\r\n      step: 0,\r\n      imgUrl: '',\r\n      imgList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 上传图片\r\n    async uploaded(img) {\r\n      const formData = new FormData();\r\n      formData.append('file', img);\r\n      const data = await file(formData);\r\n      this.$emit('fileData', data);\r\n    },\r\n    readImg(files, content) {\r\n      // 预览图片\r\n      const img = {};\r\n      img.src = require('@/assets/word.png');\r\n      img.name = files.file.name;\r\n      this.imgList.push(img);\r\n      this.uploaded(files.file);\r\n    },\r\n    deleteImg() {\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .upload {\r\n    .upimg {\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n    .close {\r\n      position: absolute;\r\n      top: -8px;\r\n      right: -8px;\r\n      background: #fff;\r\n      border-radius: 8px;\r\n    }\r\n    .imgTitle {\r\n      display: inline-block;\r\n      margin-left: 20px;\r\n    }\r\n    ul {\r\n      background-color: #fff;\r\n      li {\r\n        padding: 15px;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n    }\r\n    .pos{\r\n      width: 50px;\r\n      height: 50px;\r\n      text-align: center;\r\n      span{\r\n        background: #e7e7ea;\r\n        color:#fff;\r\n        padding: 0 12px;\r\n        font-size: 45px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src\\components\\upload"}]}