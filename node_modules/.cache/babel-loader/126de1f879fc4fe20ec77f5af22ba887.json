{"remainingRequest":"E:\\vue\\school\\node_modules\\babel-loader\\lib\\index.js!E:\\vue\\school\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue\\school\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\school\\src\\views\\home\\home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\school\\src\\views\\home\\home.vue","mtime":1544603548529},{"path":"E:\\vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544431688682},{"path":"E:\\vue\\school\\node_modules\\babel-loader\\lib\\index.js","mtime":1544431687962},{"path":"E:\\vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544431688682},{"path":"E:\\vue\\school\\node_modules\\vue-loader\\lib\\index.js","mtime":1544431709523}],"contextDependencies":[],"result":["import _slicedToArray from \"E:\\\\vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/slicedToArray\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\nimport _objectSpread from \"E:\\\\vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport { loadBaNoticeAndNew } from '@/services/home';\nexport default {\n  name: 'home',\n  data: function data() {\n    return {\n      BaNoticeAndNewList: [],\n      noticeObject: {},\n      newObject: {},\n      queryParam: {\n        type: '',\n        userId: ''\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters('system', ['userInfo'])),\n  mounted: function mounted() {\n    this.getBaNoticeAndNew();\n  },\n  methods: {\n    getBaNoticeAndNew: function () {\n      var _getBaNoticeAndNew = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data, notice, _notice$records, news, _news$records;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.queryParam.type = '1';\n                this.queryParam.userId = this.$store.state.system.userInfo.id;\n                _context.next = 4;\n                return loadBaNoticeAndNew(this.queryParam);\n\n              case 4:\n                _ref = _context.sent;\n                data = _ref.data;\n\n                if (data.notice != null) {\n                  notice = data.notice;\n                  notice.records[0].content = notice.records[0].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\n                  notice.records[0].sendTime = notice.records[0].sendTime.substring(0, 10);\n                  _notice$records = _slicedToArray(notice.records, 1);\n                  this.noticeObject = _notice$records[0];\n                }\n\n                if (data.news != null) {\n                  news = data.news;\n                  news.records[0].content = news.records[0].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\n                  news.records[0].sendTime = news.records[0].sendTime.substring(0, 10);\n                  _news$records = _slicedToArray(news.records, 1);\n                  this.newObject = _news$records[0];\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getBaNoticeAndNew() {\n        return _getBaNoticeAndNew.apply(this, arguments);\n      };\n    }(),\n    detail: function detail(value) {\n      if (value === 1) {\n        this.$router.push(\"/newsDetail/\".concat(this.noticeObject.id));\n      } else {\n        this.$router.push(\"/newsDetail/\".concat(this.newObject.id));\n      }\n    },\n    moreThing: function moreThing(type) {\n      this.$router.push(\"/noticeList/\".concat(type));\n    }\n  }\n};",{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,kBAAA,QAAA,iBAAA;AAEA,eAAA;AACA,QAAA,MADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,0BAAA,EADA;AAEA,oBAAA,EAFA;AAGA,iBAAA,EAHA;AAIA,kBAAA;AACA,cAAA,EADA;AAEA,gBAAA;AAFA;AAJA,KAAA;AASA,GAZA;AAaA,8BACA,WAAA,QAAA,EAAA,CAAA,UAAA,CAAA,CADA,CAbA;AAgBA,SAhBA,qBAgBA;AACA,SAAA,iBAAA;AACA,GAlBA;AAmBA,WAAA;AACA,qBADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,UAAA,CAAA,IAAA,GAAA,GAAA;AACA,qBAAA,UAAA,CAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,EAAA;AAHA;AAAA,uBAIA,mBAAA,KAAA,UAAA,CAJA;;AAAA;AAAA;AAIA,oBAJA,QAIA,IAJA;;AAKA,oBAAA,KAAA,MAAA,IAAA,IAAA,EAAA;AACA,wBADA,GACA,KAAA,MADA;AAEA,yBAAA,OAAA,CAAA,CAAA,EAAA,OAAA,GAAA,OAAA,OAAA,CAAA,CAAA,EAAA,OAAA,CACA,OADA,CACA,WADA,EACA,EADA,EACA,OADA,CACA,IADA,EACA,EADA,EACA,SADA,CACA,CADA,EACA,EADA,CAAA;AAEA,yBAAA,OAAA,CAAA,CAAA,EAAA,QAAA,GAAA,OAAA,OAAA,CAAA,CAAA,EAAA,QAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAJA,mDAKA,OAAA,OALA;AAKA,uBAAA,YALA;AAMA;;AACA,oBAAA,KAAA,IAAA,IAAA,IAAA,EAAA;AACA,sBADA,GACA,KAAA,IADA;AAEA,uBAAA,OAAA,CAAA,CAAA,EAAA,OAAA,GAAA,KAAA,OAAA,CAAA,CAAA,EAAA,OAAA,CACA,OADA,CACA,WADA,EACA,EADA,EACA,OADA,CACA,IADA,EACA,EADA,EACA,SADA,CACA,CADA,EACA,EADA,CAAA;AAEA,uBAAA,OAAA,CAAA,CAAA,EAAA,QAAA,GAAA,KAAA,OAAA,CAAA,CAAA,EAAA,QAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAJA,iDAKA,KAAA,OALA;AAKA,uBAAA,SALA;AAMA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAoBA,UApBA,kBAoBA,KApBA,EAoBA;AACA,UAAA,UAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,uBAAA,KAAA,YAAA,CAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,uBAAA,KAAA,SAAA,CAAA,EAAA;AACA;AACA,KA1BA;AA2BA,aA3BA,qBA2BA,IA3BA,EA2BA;AACA,WAAA,OAAA,CAAA,IAAA,uBAAA,IAAA;AACA;AA7BA;AAnBA,CAAA","sourcesContent":["<template>\r\n    <div class=\"indexView\">\r\n        <div class=\"wrapper\">\r\n            <!-- 头部开始 -->\r\n            <div class=\"top\">\r\n                <div class=\"touxiang\">\r\n                    <img src=\"../../assets/myedu/xj.png\" alt=\"\">\r\n                </div>\r\n                <span>马小帅</span>\r\n            </div>\r\n        </div>\r\n        <!-- 头部结束 -->\r\n        <div class=\"banner\">\r\n            <img src=\"../../assets/myedu/banner.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"message_2\">\r\n            <span class=\"message_title\"> <i> 消息</i> </span>\r\n            <span class=\"message_type\">考勤</span>\r\n            <span class=\"message_content\">还有4分钟就要上课了，记得打卡有4分钟就要上课了，记得打卡</span>\r\n        </div>\r\n        <!-- 应用开始 -->\r\n        <div class=\"wrapper\">\r\n            <div class=\"wrapper_top\">\r\n                <div class=\"blue\"></div>\r\n                <span class=\"title\"> <i> 应用广场</i> </span>\r\n                <span class=\"more\">更多>></span>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"wrapper_bottom\">\r\n                <ul>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <p>考勤</p>\r\n                    </li>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <p>考勤</p>\r\n                    </li>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <span class=\"small\">NEW</span>\r\n                        <p>考勤</p>\r\n                    </li>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <p>考勤</p>\r\n                    </li>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <p>考勤</p>\r\n                    </li>\r\n                    <li class=\"application\">\r\n                        <img src=\"../../assets/myedu/kg.png\" alt=\"\">\r\n                        <p>考勤</p>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <!-- 应用结束 -->\r\n        <div class=\"wrapper_3\">\r\n            <div class=\"wrapper_top\">\r\n                <div class=\"blue\"></div>\r\n                <span class=\"title\"> <i>通知</i> </span>\r\n                <span class=\"more\" @click=\"moreThing(0)\">更多>></span>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n                <div class=\"gonggao\"  @click=\"detail(1)\">\r\n                <p class=\"biaoti\">{{this.noticeObject.noticeTitle}}</p>\r\n                <p class=\"continer\">{{this.noticeObject.content}}</p>\r\n                <div class=\"time\">\r\n                    <img src=\"../../assets/myedu/time.png\" alt=\"\">\r\n                    <span>{{this.noticeObject.sendTime}}</span>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n            </div>\r\n            <div class=\"wrapper_top\">\r\n                <div class=\"blue\"></div>\r\n                <span class=\"title\"> <i>校园新闻</i> </span>\r\n                <span class=\"more\" @click=\"moreThing(1)\">更多>></span>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"news\" @click=\"detail(2)\">\r\n                <p class=\"biaoti\">{{this.newObject.noticeTitle}}</p>\r\n                <p class=\"continer\">{{this.newObject.content}}</p>\r\n                <div class=\"time\">\r\n                    <img src=\"../../assets/myedu/time.png\" alt=\"\">\r\n                    <span>{{this.newObject.sendTime}}</span>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { loadBaNoticeAndNew } from '@/services/home';\r\n\r\nexport default {\r\n  name: 'home',\r\n  data() {\r\n    return {\r\n      BaNoticeAndNewList: [],\r\n      noticeObject: {},\r\n      newObject: {},\r\n      queryParam: {\r\n        type: '',\r\n        userId: '',\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('system', ['userInfo']),\r\n  },\r\n  mounted() {\r\n    this.getBaNoticeAndNew();\r\n  },\r\n  methods: {\r\n    async getBaNoticeAndNew() {\r\n      this.queryParam.type = '1';\r\n      this.queryParam.userId = this.$store.state.system.userInfo.id;\r\n      const { data } = await loadBaNoticeAndNew(this.queryParam);\r\n      if (data.notice != null) {\r\n        const notice = data.notice;\r\n        notice.records[0].content = notice.records[0].content\r\n          .replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\r\n        notice.records[0].sendTime = notice.records[0].sendTime.substring(0, 10);\r\n        [this.noticeObject] = notice.records;\r\n      }\r\n      if (data.news != null) {\r\n        const news = data.news;\r\n        news.records[0].content = news.records[0].content\r\n          .replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\r\n        news.records[0].sendTime = news.records[0].sendTime.substring(0, 10);\r\n        [this.newObject] = news.records;\r\n      }\r\n    },\r\n    detail(value) {\r\n      if (value === 1) {\r\n        this.$router.push(`/newsDetail/${this.noticeObject.id}`);\r\n      } else {\r\n        this.$router.push(`/newsDetail/${this.newObject.id}`);\r\n      }\r\n    },\r\n    moreThing(type) {\r\n      this.$router.push(`/noticeList/${type}`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.indexView{\r\n    font-family: '微软雅黑';\r\n}\r\n.top{\r\n    padding: 0 15px;\r\n    width: calc(100% - 30px);\r\n    height: 44px;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.touxiang{\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    display: inline-block;\r\n    margin-right: 16px;\r\n}\r\n.touxiang img{\r\n    width: 100%;\r\n}\r\n.top span{\r\n    font-size: 17px;\r\n    color: #4185de;\r\n    width: 280px;\r\n}\r\n.message{\r\n    width: 20px;\r\n    height: 17px;\r\n    float: right;\r\n}\r\n.message img{\r\n    width: 100%;\r\n}\r\n.new{\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 50%;\r\n    background: #ff1616;\r\n    position: relative;\r\n    left: 15px;\r\n    bottom: 20px;\r\n}\r\n.banner{\r\n    width: 100%;\r\n    height: 173px;\r\n}\r\n.banner img{\r\n    width: 100%;\r\n}\r\n.message_2{\r\n    /* width:calc(100% - 0.6px); */\r\n    padding: 15px;\r\n    background: #fff;\r\n}\r\n.message_title{\r\n    font-size: 18px;\r\n    color: #333;\r\n    font-weight: 600;\r\n    float: left;\r\n}\r\n.message_type{\r\n    font-size: 14px;\r\n    color: #f2b504;\r\n    background: #fff7e5;\r\n    border: solid  1px #f2b504;\r\n    border-radius: 4px;\r\n    padding: 2px 3px;\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n    float: left;\r\n}\r\n.message_content{\r\n    display: block;\r\n    font-size: 16px;\r\n    color: #333;\r\n    overflow: hidden;\r\n    text-overflow:ellipsis;\r\n    white-space: nowrap;\r\n}\r\n.small{\r\n    font-size: 12px;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    background: #ff1b1b;\r\n    border: solid 2px #fff;\r\n    padding: 3px 6px;\r\n    box-shadow: 0 8px 10px #ffbec3;\r\n    border-radius: 12px 12px 12px 0;\r\n    /* position:relative;\r\n    left: 0.2px;\r\n    bottom: 0.2px; */\r\n    position: absolute;\r\n    top: -12px;\r\n    right: -18px;\r\n}\r\n\r\n\r\n/* 应用开始 */\r\n.wrapper{\r\n    width: 100%;\r\n    background:#fff;\r\n}\r\n.wrapper_top{\r\n    width:calc(100% - 18px);\r\n    padding: 12px 0px 12px 18px;\r\n    margin-top: 10px;\r\n}\r\n.blue{\r\n    width: 3px;\r\n    height: 16px;\r\n    border-radius: 3px;\r\n    background: #4185de;\r\n    display: inline-block;\r\n}\r\n.title{\r\n    font-size: 18px;\r\n    color: #333;\r\n    font-weight: 600;\r\n    margin-left: 5px;\r\n}\r\n.more{\r\n    font-size: 16px;\r\n    color: #999;\r\n    float: right;\r\n}\r\n.line{\r\n    width: 100%;\r\n    height: 1px;\r\n    background: #e5e5e5;\r\n}\r\n.wrapper_bottom{\r\n    overflow: hidden;\r\n    padding: 30px 15px 0 15px;\r\n    background: #fff;\r\n    text-align: center;\r\n}\r\n.application{\r\n    width: 25%;\r\n    float: left;\r\n    margin-bottom: 30px;\r\n    position: relative;\r\n}\r\n.application img{\r\n    width: 56px;\r\n    height: 56px;;\r\n    display: inline-block;\r\n}\r\n.application p{\r\n    color: #333;\r\n    font-size: 16px;\r\n    margin-top:5px;\r\n}\r\n\r\n.gonggao{\r\n    padding:20px 18px 0 18px;\r\n    background: #fff;\r\n    /* border-bottom: solid 1px #e5e5e5; */\r\n}\r\n.news{\r\n    padding:20px 18px 0 18px;\r\n    background: #fff;\r\n    /* border-bottom: solid 1px #e5e5e5; */\r\n}\r\n.biaoti{\r\n    font-size: 18px;\r\n    color: #333;\r\n    font-weight: 600;\r\n    position: relative;\r\n}\r\n.continer{\r\n    font-size: 16px;\r\n    color: #666;\r\n    text-indent: 2em;\r\n    margin-top: 7px;\r\n}\r\n.time{\r\n    margin-top: 7px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n}\r\n.time img{\r\n    width: 14px;\r\n    height: 14px;\r\n    /* float: left; */\r\n}\r\n.time span{\r\n    color: #999;\r\n    font-size: 15px;\r\n    margin-left: 8px;\r\n}\r\n/* 公告开始 */\r\n.small_2{\r\n    font-size: 12px;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    background: #ff1b1b;\r\n    border: solid 2px #fff;\r\n    padding: 7px 12px;\r\n    box-shadow: 0 8px 10px #ffbec3;\r\n    border-radius: 8px 8px 8px 0;\r\n    position: absolute;\r\n    top: 0;\r\n    right:0;\r\n}\r\n.wrapper_3{\r\n    width: 100%;\r\n    background:#fff;\r\n    margin-bottom:49px;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\views\\home"}]}