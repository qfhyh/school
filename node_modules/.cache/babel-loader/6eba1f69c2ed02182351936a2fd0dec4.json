{"remainingRequest":"E:\\QF\\H5-vue\\school\\node_modules\\babel-loader\\lib\\index.js!E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\QF\\H5-vue\\school\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\QF\\H5-vue\\school\\src\\views\\application\\health\\onlineBooking.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\QF\\H5-vue\\school\\src\\views\\application\\health\\onlineBooking.vue","mtime":1543286149992},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535070530521},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\babel-loader\\lib\\index.js","mtime":1539569622495},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535070530521},{"path":"E:\\QF\\H5-vue\\school\\node_modules\\vue-loader\\lib\\index.js","mtime":1539569642393}],"contextDependencies":[],"result":["import _slicedToArray from \"E:\\\\QF\\\\H5-vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/slicedToArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\QF\\\\H5-vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\nimport _objectSpread from \"E:\\\\QF\\\\H5-vue\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport { getStuOnLine, addRecord, stuInfo, dutyTime, jPush } from '@/services/health';\nimport noData from '@/components/noData/noData.vue';\nimport backButton from '@/components/backButton/backButton.vue';\nexport default {\n  name: 'onlineBooking',\n  data: function data() {\n    return {\n      defaultImg: \"this.src=\\\"\".concat(require('@/assets/tx@2x.png'), \"\\\"\"),\n      loading: false,\n      finished: false,\n      pageNum: 0,\n      list: [],\n      stu: {},\n      state: '',\n      duty: {\n        type: 'dutyTime'\n      },\n      time: {},\n      address: {},\n      add: {\n        planId: '',\n        // 选择的对象的id\n        schoolId: '',\n        // 校区标识\n        deptId: '',\n        // 院系标识\n        deptName: '',\n        // 院系名称\n        professionId: '',\n        // 专业标识\n        professionName: '',\n        // 专业名称\n        classId: '',\n        // 班级标识\n        className: '',\n        // 班级名称\n        gradeId: '',\n        // 年级标识\n        gradeName: '',\n        // 年级名称\n        stuId: '',\n        // 学生标识\n        stuName: '',\n        // 学生名称\n        stuSexCode: '',\n        // 性别code（1男2女）\n        stuSexText: '',\n        // 性别Text\n        appointDurationCode: '',\n        // 预约时间段\n        appointDurationText: '',\n        // 预约时段值\n        isAppoint: '' // 预约状态(0未约1已约2预约取消)\n\n      },\n      jPushData: {\n        userId: '',\n        mk: 'xljk',\n        message: ''\n      }\n    };\n  },\n  components: {\n    'no-data': noData,\n    backButton: backButton\n  },\n  computed: _objectSpread({}, mapGetters('system', ['userInfo'])),\n  methods: {\n    onClickLeft: function onClickLeft() {\n      this.$router.go(-1);\n    },\n    getDutyTime: function () {\n      var _getDutyTime = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data, _data$dutyArea, _data$dutyDate;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return dutyTime(this.duty);\n\n              case 2:\n                _ref = _context.sent;\n                data = _ref.data;\n                _data$dutyArea = _slicedToArray(data.dutyArea, 1);\n                this.time = _data$dutyArea[0];\n                _data$dutyDate = _slicedToArray(data.dutyDate, 1);\n                this.address = _data$dutyDate[0];\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getDutyTime() {\n        return _getDutyTime.apply(this, arguments);\n      };\n    }(),\n    // async getOnLine(msg) {\n    //   const data = await getStuOnLine(msg);\n    //   this.list = data.data;\n    // },\n    onLoad: function () {\n      var _onLoad = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getStuOnLine({\n                  stuId: this.userInfo.id,\n                  pageNum: this.pageNum += 1\n                });\n\n              case 2:\n                data = _context2.sent;\n                this.list = this.list.concat(data.data); // 加载状态结束\n\n                this.loading = false; // 数据全部加载完成\n\n                if (this.list.length >= data.total) {\n                  this.finished = true;\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function onLoad() {\n        return _onLoad.apply(this, arguments);\n      };\n    }(),\n    getStuInfo: function () {\n      var _getStuInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _ref2, data, _data;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return stuInfo({\n                  stuId: this.userInfo.id\n                });\n\n              case 2:\n                _ref2 = _context3.sent;\n                data = _ref2.data;\n                _data = _slicedToArray(data, 1);\n                this.stu = _data[0];\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function getStuInfo() {\n        return _getStuInfo.apply(this, arguments);\n      };\n    }(),\n    onLine: function () {\n      var _onLine = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(item, msg) {\n        var data;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return addRecord(msg);\n\n              case 2:\n                data = _context4.sent;\n\n                if (data.htppCode === '200' || 200) {\n                  this.$toast.success('预约成功');\n                } else {\n                  this.$toast(data.msg);\n                }\n\n                this.jPushData.userId = item.userId;\n                _context4.next = 7;\n                return jPush(this.jPushData);\n\n              case 7:\n                this.$router.go(-1);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function onLine(_x, _x2) {\n        return _onLine.apply(this, arguments);\n      };\n    }(),\n    addOnline: function addOnline(item) {\n      if (item.isAppointment === '预约') {\n        this.state = '1';\n        this.jPushData.message = \"\".concat(this.stu.userName, \"\\u9884\\u7EA6\\u4E86\").concat(this.$moment(item.dutyDate).format('YYYY年MM月DD日'), \"\\u7684\\u5FC3\\u7406\\u54A8\\u8BE2\\u3002\");\n      } else if (item.isAppointment === '取消预约') {\n        this.state = '2';\n        this.jPushData.message = \"\".concat(this.stu.userName, \"\\u53D6\\u6D88\\u4E86\").concat(this.$moment(item.dutyDate).format('YYYY年MM月DD日'), \"\\u7684\\u5FC3\\u7406\\u54A8\\u8BE2\\u3002\");\n      }\n\n      this.add = {\n        planId: item.id,\n        // 选择的对象的id\n        schoolId: this.stu.schoolId,\n        // 校区标识\n        deptId: this.stu.orgId,\n        // 院系标识\n        deptName: this.stu.DWMC,\n        // 院系名称\n        professionId: this.stu.proId,\n        // 专业标识\n        professionName: this.stu.ZYMC,\n        // 专业名称\n        classId: this.stu.classId,\n        // 班级标识\n        className: this.stu.BJMC,\n        // 班级名称\n        gradeId: this.stu.gradeId,\n        // 年级标识\n        gradeName: this.stu.gradeName,\n        // 年级名称\n        stuId: this.stu.id,\n        // 学生标识\n        stuName: this.stu.userName,\n        // 学生名称\n        stuSexCode: this.stu.XBM,\n        // 性别code（1男2女）\n        stuSexText: this.stu.XBMTEXT,\n        // 性别Text\n        appointDurationCode: item.code,\n        // 预约时间段\n        appointDurationText: item.codeText,\n        // 预约时段值\n        isAppoint: this.state // 预约状态(0未约1已约2预约取消)\n\n      };\n      this.onLine(item, this.add);\n    }\n  },\n  mounted: function mounted() {\n    // this.getOnLine(this.param);\n    this.getStuInfo();\n    this.getDutyTime();\n  }\n};",{"version":3,"sources":["onlineBooking.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"onlineBooking\">\r\n    <back-button></back-button>\r\n    <van-nav-bar\r\n      title=\"在线预约\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      fixed\r\n      @click-left=\"onClickLeft\"/>\r\n    <div class=\"top address\">\r\n      <div v-if=\"this.time != ''\">咨询地点：<span>{{this.time.codeText}}</span></div>\r\n      <div v-if=\"this.address != ''\">咨询时间：<span>{{this.address.codeText}}</span></div>\r\n    </div>\r\n    <div class=\"top\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        :offset= \"10\"\r\n        @load=\"onLoad\"\r\n      >\r\n      <div class=\"personal-info between\"\r\n      v-for=\"(item, index) in list\" :key=\"index\">\r\n        <div class=\"avatar\">\r\n          <img :src=\"$store.state.system.sftpPath + item.zp\"\r\n          :onerror=\"defaultImg\" alt=\"\">\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"con\">\r\n            <div class=\"name\">姓名：{{item.userName}}</div>\r\n            <div class=\"result\">值班日期：{{item.dutyDate}}</div>\r\n            <div class=\"result\">时间段：{{item.codeText}}</div>\r\n            <div class=\"result\">\r\n              预约状态：{{item.isAppointment === '预约' ? '' : item.isAppointment === '取消预约' ? '预约' : ''}}\r\n            </div>\r\n          </div>\r\n          <div class=\"btn-group\" v-if=\"item.isAppointment != '' && item.isAppointment != null\">\r\n            <van-button size=\"small\" class=\"btn\"\r\n            @click=\"addOnline(item)\">\r\n              {{item.isAppointment}}\r\n            </van-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </van-list>\r\n    </div>\r\n    <div v-if=\"this.list.length == 0\">\r\n      <no-data></no-data>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { getStuOnLine, addRecord, stuInfo, dutyTime, jPush } from '@/services/health';\r\nimport noData from '@/components/noData/noData.vue';\r\nimport backButton from '@/components/backButton/backButton.vue';\r\n\r\nexport default {\r\n  name: 'onlineBooking',\r\n  data() {\r\n    return {\r\n      defaultImg: `this.src=\"${require('@/assets/tx@2x.png')}\"`,\r\n      loading: false,\r\n      finished: false,\r\n      pageNum: 0,\r\n      list: [],\r\n      stu: {},\r\n      state: '',\r\n      duty: {\r\n        type: 'dutyTime',\r\n      },\r\n      time: {},\r\n      address: {},\r\n      add: {\r\n        planId: '', // 选择的对象的id\r\n        schoolId: '', // 校区标识\r\n        deptId: '', // 院系标识\r\n        deptName: '', // 院系名称\r\n        professionId: '', // 专业标识\r\n        professionName: '', // 专业名称\r\n        classId: '', // 班级标识\r\n        className: '', // 班级名称\r\n        gradeId: '', // 年级标识\r\n        gradeName: '', // 年级名称\r\n        stuId: '', // 学生标识\r\n        stuName: '', // 学生名称\r\n        stuSexCode: '', // 性别code（1男2女）\r\n        stuSexText: '', // 性别Text\r\n        appointDurationCode: '', // 预约时间段\r\n        appointDurationText: '', // 预约时段值\r\n        isAppoint: '', // 预约状态(0未约1已约2预约取消)\r\n      },\r\n      jPushData: {\r\n        userId: '',\r\n        mk: 'xljk',\r\n        message: '',\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    'no-data': noData,\r\n    backButton,\r\n  },\r\n  computed: {\r\n    ...mapGetters('system', ['userInfo']),\r\n    // param() {\r\n    //   return {\r\n    //     stuId: this.userInfo.id,\r\n    //   };\r\n    // },\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    async getDutyTime() {\r\n      const { data } = await dutyTime(this.duty);\r\n      [this.time] = data.dutyArea;\r\n      [this.address] = data.dutyDate;\r\n    },\r\n    // async getOnLine(msg) {\r\n    //   const data = await getStuOnLine(msg);\r\n    //   this.list = data.data;\r\n    // },\r\n    async onLoad() {\r\n      const data = await getStuOnLine({\r\n        stuId: this.userInfo.id,\r\n        pageNum: this.pageNum += 1,\r\n      });\r\n      this.list = this.list.concat(data.data);\r\n      // 加载状态结束\r\n      this.loading = false;\r\n      // 数据全部加载完成\r\n      if (this.list.length >= data.total) {\r\n        this.finished = true;\r\n      }\r\n    },\r\n    async getStuInfo() {\r\n      const { data } = await stuInfo({ stuId: this.userInfo.id });\r\n      [this.stu] = data;\r\n    },\r\n    async onLine(item, msg) {\r\n      const data = await addRecord(msg);\r\n      if (data.htppCode === '200' || 200) {\r\n        this.$toast.success('预约成功');\r\n      } else {\r\n        this.$toast(data.msg);\r\n      }\r\n      this.jPushData.userId = item.userId;\r\n      await jPush(this.jPushData);\r\n      this.$router.go(-1);\r\n    },\r\n    addOnline(item) {\r\n      if (item.isAppointment === '预约') {\r\n        this.state = '1';\r\n        this.jPushData.message = `${this.stu.userName}预约了${this.$moment(item.dutyDate).format('YYYY年MM月DD日')}的心理咨询。`;\r\n      } else if (item.isAppointment === '取消预约') {\r\n        this.state = '2';\r\n        this.jPushData.message = `${this.stu.userName}取消了${this.$moment(item.dutyDate).format('YYYY年MM月DD日')}的心理咨询。`;\r\n      }\r\n      this.add = {\r\n        planId: item.id, // 选择的对象的id\r\n        schoolId: this.stu.schoolId, // 校区标识\r\n        deptId: this.stu.orgId, // 院系标识\r\n        deptName: this.stu.DWMC, // 院系名称\r\n        professionId: this.stu.proId, // 专业标识\r\n        professionName: this.stu.ZYMC, // 专业名称\r\n        classId: this.stu.classId, // 班级标识\r\n        className: this.stu.BJMC, // 班级名称\r\n        gradeId: this.stu.gradeId, // 年级标识\r\n        gradeName: this.stu.gradeName, // 年级名称\r\n        stuId: this.stu.id, // 学生标识\r\n        stuName: this.stu.userName, // 学生名称\r\n        stuSexCode: this.stu.XBM, // 性别code（1男2女）\r\n        stuSexText: this.stu.XBMTEXT, // 性别Text\r\n        appointDurationCode: item.code, // 预约时间段\r\n        appointDurationText: item.codeText, // 预约时段值\r\n        isAppoint: this.state, // 预约状态(0未约1已约2预约取消)\r\n      };\r\n      this.onLine(item, this.add);\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.getOnLine(this.param);\r\n    this.getStuInfo();\r\n    this.getDutyTime();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .onlineBooking{\r\n    padding:46px 0 60px;\r\n  }\r\n  .success {\r\n    color: #51bf61 !important;\r\n  }\r\n  .warning{\r\n    color: #ea9542 !important;\r\n  }\r\n  .danger{\r\n    color: #ff5757 !important;\r\n  }\r\n  .between{\r\n    margin:0 12px;\r\n  }\r\n  .top{\r\n    margin-top: 11px;\r\n    background: #fff;\r\n  }\r\n  .address{\r\n    padding:10px 12px;\r\n    >div{\r\n      line-height: 30px;\r\n      color:#333;\r\n      font-size: 14px;\r\n      >span{\r\n        color:#777;\r\n      }\r\n    }\r\n  }\r\n  .personal-info{\r\n    padding:20px 0px 0px;\r\n    overflow: hidden;\r\n    position: relative;\r\n    .avatar{\r\n      width: 48px;\r\n      height: 48px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n      margin-right: 14px;\r\n      float: left;\r\n    }\r\n    .info{\r\n      width:calc(100% - 62px);\r\n      float: left;\r\n      border-bottom:1px solid #e7e7e7;\r\n      .name{\r\n        font-size: 16px;\r\n        color: #333;\r\n        margin-bottom: 6px;\r\n      }\r\n      .result{\r\n        font-size: 15px;\r\n        color:#999;\r\n        line-height: 25px;\r\n      }\r\n    }\r\n    &:last-child{\r\n      .info{\r\n        border: 0;\r\n      }\r\n    }\r\n    .con{\r\n      float: left;\r\n      padding-bottom: 20px;\r\n    }\r\n    .date{\r\n      font-size: 14px;\r\n      color:#999;\r\n      float: right;\r\n    }\r\n    .btn-group{\r\n        position: absolute;\r\n        bottom: 20px;\r\n        right: 0;\r\n        .btn{\r\n            font-size: 16px;\r\n            border-radius: 2px;\r\n            background-color: #1890ff;\r\n            color: #FFFFFF;\r\n            padding: 0px 12px;\r\n        }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src\\views\\application\\health"}]}