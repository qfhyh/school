(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["record"],{"4cd9":function(t,e,a){"use strict";var n=a("9547"),i=a.n(n);i.a},"93ed":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record"},[a("van-nav-bar",{attrs:{title:"记录","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"top"},[a("van-cell-group",[a("van-cell",{attrs:{title:"心理问题类型",required:"","is-link":"",border:"",value:"请选择"},on:{click:function(e){t.showType=!0}},model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.typeList},on:{cancel:function(e){t.showType=!1},confirm:t.selectType}})],1)],1)],1),a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[t._v("咨询记录")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.record,expression:"record"}],attrs:{placeholder:"请详细填写学生咨询记录"},domProps:{value:t.record},on:{input:function(e){e.target.composing||(t.record=e.target.value)}}})]),a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[t._v("咨询结论")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result,expression:"result"}],attrs:{placeholder:"请简要填写咨询结论"},domProps:{value:t.result},on:{input:function(e){e.target.composing||(t.result=e.target.value)}}})]),a("div",{staticClass:"top"},[a("van-cell",{attrs:{value:"添加图片"}}),a("upload-img",{on:{imgData:t.imgData}})],1),a("div",{staticClass:"btn-group"},[a("van-button",{staticClass:"btn blue",attrs:{size:"large"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)],1)},i=[],r=(a("ac6a"),a("f3e2"),a("96cf"),a("cb0c")),o=a("fd09"),s=a("c583"),c={name:"record",data:function(){return{showType:!1,typeName:"请选择",typeData:[],typeList:[],record:"",result:"",typeParam:{type:"mindillness"},param:{id:"",mindiseaseCode:"",mindiseaseText:"",medicalRecords:"",medicalConclusion:"",photo:""},photoList:[]}},components:{uploadImg:s["a"]},methods:{onClickLeft:function(){this.$router.go(-1)},getIllnessList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["f"])(this.typeParam);case 2:e=t.sent,a=e.data,this.typeData=a,this.typeData.forEach(function(t){n.typeList.push(t.codeText)});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),selectType:function(t){var e=this;this.showType=!1,this.typeName=t,this.typeData.forEach(function(a){a.codeText===t&&(e.param.mindiseaseCode=a.code)})},submitRecord:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(this.param);case 2:e=t.sent,e.httpCode,this.$toast.success("提交成功"),this.$router.go(-1);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),imgData:function(t){var e=this;t.filePrikeys.forEach(function(t){e.photoList.push(t.filePath)})},submit:function(){"请选择"!==this.typeName?(this.param.id=this.$route.params.id,this.param.mindiseaseText=this.typeName,this.param.medicalRecords=this.record,this.param.photo=this.photoList.join(","),this.param.medicalConclusion=this.result,this.submitRecord()):this.$toast("请选择心理问题类型")}},mounted:function(){this.getIllnessList()}},u=c,l=(a("4cd9"),a("2877")),p=Object(l["a"])(u,n,i,!1,null,"26f91990",null);p.options.__file="record.vue";e["default"]=p.exports},9547:function(t,e,a){},fd09:function(t,e,a){"use strict";a.d(e,"e",function(){return i}),a.d(e,"d",function(){return r}),a.d(e,"h",function(){return o}),a.d(e,"a",function(){return s}),a.d(e,"b",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"f",function(){return l}),a.d(e,"g",function(){return p});var n=a("b775");function i(t){return Object(n["a"])({method:"put",url:"/api/mobileMindhealthyPlan/read/getStuOnLine",data:t})}function r(t){return Object(n["a"])({method:"put",url:"/api/mobileDic/get/mindhealthy",data:t})}function o(t){return Object(n["a"])({method:"put",url:"/api/mobileSysUser/read/selectAllStu",data:t})}function s(t){return Object(n["a"])({method:"post",url:"/api/moblieMindhealthyAppointment",data:t})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])({method:"put",url:"/api/moblieMindhealthyAppointment/read/list",data:t})}function u(t){return Object(n["a"])({method:"post",url:"/api/moblieMindhealthyAppointment/update/updateStuMindhealthyAppointment",data:t})}function l(t){return Object(n["a"])({method:"put",url:"/api/mobileDic/read/list",data:t})}function p(t){return Object(n["a"])({method:"put",url:"/api/mobileJiGuangController/save/getUserId",data:t})}}}]);
//# sourceMappingURL=record.d48d135a.js.map